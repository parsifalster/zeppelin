<!--
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<div ng-controller="HomeCtrl as home" data-ng-init="initHome()">
  <div ng-show="home.staticHome" class="box width-full home">
    <div class="zeppelin">
      <div class="zeppelin2"></div>
    </div>
    <div style="margin-top: -380px;">
      <h1 class="box-heading" id="welcome">
        欢迎使用DeepChain!
      </h1>
      DeepChain是链数据交互分析平台.<br/>
      DeepChain整合第三方API，聚合相关数据，为您制作数据驱动的，交互式，协同的去中心数字货币行业分析报告，提供简单有趣的平台!<br/>

      <div class="row">
        <div class="col-md-4" ng-if="ticket">
          <h4>Notebook
            <i ng-class="isReloadingNotes ? 'fa fa-refresh fa-spin' : 'fa fa-refresh'"
              ng-style="!isReloadingNotes && {'cursor': 'pointer'}" style="font-size: 13px;"
              ng-click="reloadNoteList();"
              tooltip-placement="bottom" tooltip="Reload notes from storage">
            </i>
          </h4>

          <div>
            <h5><a href="" data-toggle="modal" data-target="#noteImportModal" style="text-decoration: none;">
              <i style="font-size: 15px;" class="fa fa-upload"></i> 导入笔记</a></h5>
            <h5 ng-controller="NotenameCtrl as notenamectrl"><a href="" data-toggle="modal" data-target="#noteNameModal" style="text-decoration: none;" ng-click="notenamectrl.getInterpreterSettings()">
              <i style="font-size: 15px;" class="icon-notebook"></i> 创建笔记</a></h5>
            <ul id="notebook-names">
              <li class="filter-names" ng-include="'components/filterNoteNames/filter-note-names.html'"></li>
              <li ng-repeat="note in home.notes.list | filter:query.q | orderBy:home.arrayOrderingSrv.noteListOrdering track by $index">
                <i style="font-size: 10px;" class="icon-doc"></i>
                <a style="text-decoration: none;" href="#/notebook/{{note.id}}">{{noteName(note)}}</a>
              </li>
              <div ng-if="!query.q || query.q === ''">
                <li ng-repeat="node in home.notes.root.children | orderBy:home.arrayOrderingSrv.noteListOrdering track by $index"
                    ng-include src="'app/home/notebook-template.html'" ng-class="note_folder_renderer"></li>
              </div>
              <div ng-if="query.q">
                <li ng-repeat="node in home.notes.flatList| filter:query.q | orderBy:home.arrayOrderingSrv.noteListOrdering track by $index"
                    ng-include src="'app/home/notebook-template.html'" ng-class="note_folder_renderer"></li>
             </div>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <h4>帮助</h4>
          快速入门， <a style="text-decoration: none;" target="_blank"
                              href="http://zeppelin.apache.org/docs/{{zeppelinVersion}}/index.html">DeepChain 文档</a><br/>

          <h4>社区</h4>
          非常欢迎你加入社区，提出需求!<br/><br/>
          <a style="text-decoration: none;" href="http://zeppelin.apache.org/community.html"
             target="_blank"><i style="font-size: 15px;" class="fa fa-users"></i> 邮件列表</a><br/>
          <a style="text-decoration: none;" href="https://issues.apache.org/jira/browse/ZEPPELIN"
             target="_blank"><i style="font-size: 15px;" class="fa fa-bug"></i> 问题跟踪</a><br/>
          <a style="text-decoration: none;" href="https://github.com/apache/zeppelin"
             target="_blank"><i style="font-size: 20px;" class="fa fa-github"></i> 源码</a>
        </div>
      </div>
    </div>
    <br/><br/><br/>
  </div>


  <!-- Load notebook -->
  <div ng-show="home.notebookHome" id="{{currentParagraph.id}}_paragraphColumn_main"
       ng-repeat="currentParagraph in home.note.paragraphs"
       ng-controller="ParagraphCtrl"
       ng-init="init(currentParagraph, home.note)"
       ng-class="columnWidthClass(currentParagraph.config.colWidth)"
       class="paragraph-col">
    <div id="{{currentParagraph.id}}_paragraphColumn"
         ng-if="currentParagraph.results"
         ng-include src="'app/notebook/paragraph/paragraph.html'"
         ng-class="{'paragraph-space box paragraph-margin': !asIframe, 'focused': paragraphFocused}"
         ng-hide="currentParagraph.config.tableHide && home.viewOnly">
    </div>
  </div>

  <div style="clear:both;height:10px"></div>
</div>
